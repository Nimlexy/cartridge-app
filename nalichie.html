<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ù–∞–ª–∏—á–∏–µ ‚Äî –£—á—ë—Ç –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="nalichie.js" defer></script>
</head>
<body class="bg-gray-100 text-gray-900 flex">

<!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
<aside class="w-64 h-screen bg-blue-800 text-white p-4 sticky top-0 flex flex-col justify-between">
  <div>
    <h2 class="text-2xl font-bold mb-6">–ö–∞—Ä—Ç—Ä–∏–¥–∂–∏</h2>
    <nav class="space-y-4">
      <a href="index.html" class="hover:bg-blue-700 px-3 py-2 rounded block">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="nalichie.html" class="bg-blue-700 px-3 py-2 rounded block">–ù–∞–ª–∏—á–∏–µ</a>
      <a href="supply.html" class="hover:bg-blue-700 px-3 py-2 rounded block">–ü–æ—Å—Ç–∞–≤–∫–∏</a>
      <a href="writeoff.html" class="hover:bg-blue-700 px-3 py-2 rounded block">–°–ø–∏—Å–∞–Ω–∏—è</a>
      <a href="settings.html" class="hover:bg-blue-700 px-3 py-2 rounded block">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
      <a href="export.html" class="hover:bg-blue-700 px-3 py-2 rounded block">–≠–∫—Å–ø–æ—Ä—Ç</a>
    </nav>
  </div>
  <div class="text-sm text-blue-200 mt-6">
    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä<br/>–ö–∞—Ä—Ç—Ä–∏–¥–∂–∏—Å—Ç
  </div>
</aside>

<!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
<main class="flex-1 p-8 space-y-6">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">–ù–∞–ª–∏—á–∏–µ</h1>
    <div class="flex items-center space-x-2">
      <input type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥–µ–ª–∏ –∏–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä—É" class="border border-gray-300 p-2 rounded" />
      <button onclick="exportToExcelFromServer()" class="border border-gray-300 px-4 py-2 rounded bg-white text-sm">üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel</button>
      <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">+ –î–æ–±–∞–≤–∏—Ç—å</button>
      <button class="border border-gray-300 px-4 py-2 rounded">–§–∏–ª—å—Ç—Ä</button>
    </div>
  </div>

  <div class="overflow-x-auto bg-white rounded shadow">
    <table class="min-w-full text-sm text-left">
      <thead class="bg-gray-100 text-gray-600">
        <tr>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('name')">–ú–æ–¥–µ–ª—å</th>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('printer_model')">–ü—Ä–∏–Ω—Ç–µ—Ä</th>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('manufacturer')">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</th>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('quantity')">–í –Ω–∞–ª–∏—á–∏–∏</th>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('min_quantity')">–ú–∏–Ω–∏–º—É–º</th>
          <th class="px-6 py-3 cursor-pointer" onclick="sortTable('organization')">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è</th>
          <th class="px-6 py-3">–°—Ç–∞—Ç—É—Å</th>
          <th class="px-6 py-3">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody id="stock-table-body">
        <!-- JS –∑–∞–ø–æ–ª–Ω–∏—Ç -->
      </tbody>
    </table>
    <div class="p-4 text-sm text-gray-600" id="no-data" style="display: none;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</div>
  </div>

  <div class="flex justify-end">
    <nav class="inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
      <a href="#" class="px-3 py-1 border border-gray-300 bg-white text-sm rounded-l-md hover:bg-gray-50">‚Äπ</a>
      <a href="#" class="px-3 py-1 border border-gray-300 bg-blue-100 text-sm font-medium text-blue-700">1</a>
      <a href="#" class="px-3 py-1 border border-gray-300 bg-white text-sm hover:bg-gray-50">2</a>
      <a href="#" class="px-3 py-1 border border-gray-300 bg-white text-sm rounded-r-md hover:bg-gray-50">‚Ä∫</a>
    </nav>
  </div>
</main>

<!-- –í–°–¢–ê–í–¨ –≤ –∫–æ–Ω–µ—Ü <body> –ø–µ—Ä–µ–¥ </body> -->

<!-- ‚úÖ –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="editModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">
  <div class="bg-white rounded shadow-lg p-6 w-full max-w-xl relative animate-fadeIn" id="editModalBox">
    <button onclick="closeEditModal()" class="absolute top-2 right-4 text-gray-500 text-xl">&times;</button>
    <h2 class="text-xl font-semibold mb-4">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—Ä–∏–¥–∂</h2>
    <form id="editForm" class="space-y-3">
      <input type="hidden" id="edit-id" />
      <input type="text" id="edit-name" class="w-full p-2 border rounded" placeholder="–ú–æ–¥–µ–ª—å" required />
      <input type="text" id="edit-printer" class="w-full p-2 border rounded" placeholder="–ü—Ä–∏–Ω—Ç–µ—Ä" />
      <input type="text" id="edit-manufacturer" class="w-full p-2 border rounded" placeholder="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å" />
      <input type="text" id="edit-organization" class="w-full p-2 border rounded" placeholder="–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è" />
      <input type="number" id="edit-quantity" class="w-full p-2 border rounded" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" required />
      <input type="number" id="edit-min" class="w-full p-2 border rounded" placeholder="–ú–∏–Ω–∏–º—É–º" required />
      <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </form>
  </div>
</div>

<!-- ‚úÖ –ú–æ–¥–∞–ª–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è -->
<div id="writeoffModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">
  <div class="bg-white rounded shadow-lg p-6 w-full max-w-xl relative animate-fadeIn" id="writeoffModalBox">
    <button onclick="closeWriteoffModal()" class="absolute top-2 right-4 text-gray-500 text-xl">&times;</button>
    <h2 class="text-xl font-semibold mb-4">–°–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞</h2>
    <form id="writeoffForm" class="space-y-3">
      <input type="hidden" id="writeoff-id" />
      <input type="text" id="writeoff-order" class="w-full p-2 border rounded" placeholder="–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞" required />
      <input type="text" id="writeoff-initiator" class="w-full p-2 border rounded" placeholder="–§–ò–û –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞" required />
      <input type="text" id="writeoff-printer" class="w-full p-2 border rounded" placeholder="–ú–æ–¥–µ–ª—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞" required />
      <input type="text" id="writeoff-organization" class="w-full p-2 border rounded" placeholder="–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è" />
      <select id="writeoff-type" class="w-full p-2 border rounded" required>
        <option value="">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</option>
        <option value="NVPrint">NVPrint</option>
        <option value="–†–æ—Å—Å–ì—Ä—É–ø–ø">–†–æ—Å—Å–ì—Ä—É–ø–ø</option>
      </select>
      <input type="number" id="writeoff-qty" class="w-full p-2 border rounded" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" required />
      <button class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">–°–ø–∏—Å–∞—Ç—å</button>
    </form>
  </div>
</div>

<style>
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
  .animate-fadeIn {
    animation: fadeIn 0.2s ease-out;
  }
</style>

</body>
</html>
